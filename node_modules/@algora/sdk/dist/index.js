"use strict";var Q=Object.defineProperty;var ur=Object.getOwnPropertyDescriptor;var ar=Object.getOwnPropertyNames;var cr=Object.prototype.hasOwnProperty;var fr=(t,r)=>{for(var e in r)Q(t,e,{get:r[e],enumerable:!0})},lr=(t,r,e,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of ar(r))!cr.call(t,o)&&o!==e&&Q(t,o,{get:()=>r[o],enumerable:!(n=ur(r,o))||n.enumerable});return t};var pr=t=>lr(Q({},"__esModule",{value:!0}),t);var te={};fr(te,{algora:()=>Et});module.exports=pr(te);function dr(t){return t}function mr(t){return t.length===0?dr:t.length===1?t[0]:function(e){return t.reduce((n,o)=>o(n),e)}}function x(t){let r={subscribe(e){let n=null,o=!1,i=!1,s=!1;function u(){if(n===null){s=!0;return}i||(i=!0,typeof n=="function"?n():n&&n.unsubscribe())}return n=t({next(a){o||e.next?.(a)},error(a){o||(o=!0,e.error?.(a),u())},complete(){o||(o=!0,e.complete?.(),u())}}),s&&u(),{unsubscribe:u}},pipe(...e){return mr(e)(r)}};return r}function Tt(t){return r=>{let e=0,n=null,o=[];function i(){n||(n=r.subscribe({next(u){for(let a of o)a.next?.(u)},error(u){for(let a of o)a.error?.(u)},complete(){for(let u of o)u.complete?.()}}))}function s(){if(e===0&&n){let u=n;n=null,u.unsubscribe()}}return{subscribe(u){return e++,o.push(u),i(),{unsubscribe(){e--,s();let a=o.findIndex(c=>c===u);a>-1&&o.splice(a,1)}}}}}}var L=class extends Error{constructor(r){super(r),this.name="ObservableAbortError",Object.setPrototypeOf(this,L.prototype)}};function Rt(t){let r;return{promise:new Promise((n,o)=>{let i=!1;function s(){i||(i=!0,o(new L("This operation was aborted.")),u.unsubscribe())}let u=t.subscribe({next(a){i=!0,n(a),s()},error(a){i=!0,o(a),s()},complete(){i=!0,s()}});r=s}),abort:r}}function Ot(t){return x(r=>{function e(o=0,i=t.op){let s=t.links[o];if(!s)throw new Error("No more links to execute - did you forget to add an ending link?");return s({op:i,next(a){return e(o+1,a)}})}return e().subscribe(r)})}function yr(t){return t instanceof h||t.name==="TRPCClientError"}var h=class extends Error{static from(r,e={}){return r instanceof Error?yr(r)?(e.meta&&(r.meta={...r.meta,...e.meta}),r):new h(r.message,{...e,cause:r,result:null}):new h(r.error.message??"",{...e,cause:void 0,result:r})}constructor(r,e){let n=e?.cause;super(r,{cause:n}),this.meta=e?.meta,this.cause=n,this.shape=e?.result?.error,this.data=e?.result?.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,h.prototype)}};function G(t){let r=Object.create(null);for(let e in t){let n=t[e];r[n]=e}return r}var U={PARSE_ERROR:-32700,BAD_REQUEST:-32600,INTERNAL_SERVER_ERROR:-32603,NOT_IMPLEMENTED:-32603,UNAUTHORIZED:-32001,FORBIDDEN:-32003,NOT_FOUND:-32004,METHOD_NOT_SUPPORTED:-32005,TIMEOUT:-32008,CONFLICT:-32009,PRECONDITION_FAILED:-32012,PAYLOAD_TOO_LARGE:-32013,UNPROCESSABLE_CONTENT:-32022,TOO_MANY_REQUESTS:-32029,CLIENT_CLOSED_REQUEST:-32099},ce=G(U);var pe=G(U);var Pt=()=>{};function St(t,r){return new Proxy(Pt,{get(n,o){if(!(typeof o!="string"||o==="then"))return St(t,[...r,o])},apply(n,o,i){let s=r[r.length-1]==="apply";return t({args:s?i.length>=2?i[1]:[]:i,path:s?r.slice(0,-1):r})}})}var Z=t=>St(t,[]),X=t=>new Proxy(Pt,{get(r,e){if(!(typeof e!="string"||e==="then"))return t(e)}});var At=t=>typeof t=="function";function _t(t){if(t)return t;if(typeof window<"u"&&At(window.fetch))return window.fetch;if(typeof globalThis<"u"&&At(globalThis.fetch))return globalThis.fetch;throw new Error("No fetch implementation found")}function hr(t){return t||(typeof window<"u"&&window.AbortController?window.AbortController:typeof globalThis<"u"&&globalThis.AbortController?globalThis.AbortController:null)}function q(t){return{url:t.url,fetch:t.fetch,AbortController:hr(t.AbortController)}}function gr(t){let r={};for(let e=0;e<t.length;e++){let n=t[e];r[e]=n}return r}var br={query:"GET",mutation:"POST"};function Nt(t){return"input"in t?t.runtime.transformer.serialize(t.input):gr(t.inputs.map(r=>t.runtime.transformer.serialize(r)))}var j=t=>{let r=t.url+"/"+t.path,e=[];if("inputs"in t&&e.push("batch=1"),t.type==="query"){let n=Nt(t);n!==void 0&&e.push(`input=${encodeURIComponent(JSON.stringify(n))}`)}return e.length&&(r+="?"+e.join("&")),r},tt=t=>{if(t.type==="query")return;let r=Nt(t);return r!==void 0?JSON.stringify(r):void 0},F=t=>et({...t,contentTypeHeader:"application/json",getUrl:j,getBody:tt});async function rt(t,r){let e=t.getUrl(t),n=t.getBody(t),{type:o}=t,i=await t.headers();if(o==="subscription")throw new Error("Subscriptions should use wsLink");let s={...t.contentTypeHeader?{"content-type":t.contentTypeHeader}:{},...t.batchModeHeader?{"trpc-batch-mode":t.batchModeHeader}:{},...i};return _t(t.fetch)(e,{method:br[o],signal:r?.signal,body:n,headers:s})}function et(t){let r=t.AbortController?new t.AbortController:null,e={};return{promise:new Promise((i,s)=>{rt(t,r).then(u=>(e.response=u,u.json())).then(u=>{e.responseJSON=u,i({json:u,meta:e})}).catch(u=>{s(h.from(u,{meta:e}))})}),cancel:()=>{r?.abort()}}}function Ct(t){return!!t&&!Array.isArray(t)&&typeof t=="object"}function vr(t,r){if("error"in t){let n=r.transformer.deserialize(t.error);return{ok:!1,error:{...t,error:n}}}return{ok:!0,result:{...t.result,...(!t.result.type||t.result.type==="data")&&{type:"data",data:r.transformer.deserialize(t.result.data)}}}}var M=class extends Error{constructor(){super("Unable to transform response from server")}};function B(t,r){let e;try{e=vr(t,r)}catch{throw new M}if(!e.ok&&(!Ct(e.error.error)||typeof e.error.error.code!="number"))throw new M;if(e.ok&&!Ct(e.result))throw new M;return e}var nt=()=>{throw new Error("Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new")};function ot(t){let r=null,e=null,n=()=>{clearTimeout(e),e=null,r=null};function o(u){let a=[[]],c=0;for(;;){let m=u[c];if(!m)break;let f=a[a.length-1];if(m.aborted){m.reject?.(new Error("Aborted")),c++;continue}if(t.validate(f.concat(m).map(d=>d.key))){f.push(m),c++;continue}if(f.length===0){m.reject?.(new Error("Input is too big for a single dispatch")),c++;continue}a.push([])}return a}function i(){let u=o(r);n();for(let a of u){if(!a.length)continue;let c={items:a,cancel:nt};for(let d of a)d.batch=c;let m=(d,p)=>{let y=c.items[d];y.resolve?.(p),y.batch=null,y.reject=null,y.resolve=null},{promise:f,cancel:l}=t.fetch(c.items.map(d=>d.key),m);c.cancel=l,f.then(d=>{for(let p=0;p<d.length;p++){let y=d[p];m(p,y)}for(let p of c.items)p.reject?.(new Error("Missing result")),p.batch=null}).catch(d=>{for(let p of c.items)p.reject?.(d),p.batch=null})}}function s(u){let a={aborted:!1,key:u,batch:null,resolve:nt,reject:nt},c=new Promise((f,l)=>{a.reject=l,a.resolve=f,r||(r=[]),r.push(a)});return e||(e=setTimeout(i)),{promise:c,cancel:()=>{a.aborted=!0,a.batch?.items.every(f=>f.aborted)&&(a.batch.cancel(),a.batch=null)}}}return{load:s}}function it(t){return function(e){let n=q(e),o=e.maxURLLength??1/0;return i=>{let s=f=>{let l=p=>{if(o===1/0)return!0;let y=p.map(g=>g.path).join(","),S=p.map(g=>g.input);return j({...n,runtime:i,type:f,path:y,inputs:S}).length<=o},d=t({...n,runtime:i,type:f,opts:e});return{validate:l,fetch:d}},u=ot(s("query")),a=ot(s("mutation")),c=ot(s("subscription")),m={query:u,subscription:c,mutation:a};return({op:f})=>x(l=>{let d=m[f.type],{promise:p,cancel:y}=d.load(f),S;return p.then(w=>{S=w;let g=B(w.json,i);if(!g.ok){l.error(h.from(g.error,{meta:w.meta}));return}l.next({context:w.meta,result:g.result}),l.complete()}).catch(w=>{l.error(h.from(w,{meta:S?.meta}))}),()=>{y()}})}}}var wr=t=>r=>{let e=r.map(s=>s.path).join(","),n=r.map(s=>s.input),{promise:o,cancel:i}=F({...t,path:e,inputs:n,headers(){return t.opts.headers?typeof t.opts.headers=="function"?t.opts.headers({opList:r}):t.opts.headers:{}}});return{promise:o.then(s=>(Array.isArray(s.json)?s.json:r.map(()=>s.json)).map(c=>({meta:s.meta,json:c}))),cancel:i}},st=it(wr);function V(t){return r=>{let e=q(r);return n=>({op:o})=>x(i=>{let{path:s,input:u,type:a}=o,{promise:c,cancel:m}=t.requester({...e,runtime:n,type:a,path:s,input:u,headers(){return r.headers?typeof r.headers=="function"?r.headers({op:o}):r.headers:{}}}),f;return c.then(l=>{f=l.meta;let d=B(l.json,n);if(!d.ok){i.error(h.from(d.error,{meta:f}));return}i.next({context:l.meta,result:d.result}),i.complete()}).catch(l=>{i.error(h.from(l,{meta:f}))}),()=>{m()}})}}var xr=V({requester:F});var ut=class{$request({type:r,input:e,path:n,context:o={}}){return Ot({links:this.links,op:{id:++this.requestId,type:r,path:n,input:e,context:o}}).pipe(Tt())}requestAsPromise(r){let e=this.$request(r),{promise:n,abort:o}=Rt(e);return new Promise((s,u)=>{r.signal?.addEventListener("abort",o),n.then(a=>{s(a.result.data)}).catch(a=>{u(h.from(a))})})}query(r,e,n){return this.requestAsPromise({type:"query",path:r,input:e,context:n?.context,signal:n?.signal})}mutation(r,e,n){return this.requestAsPromise({type:"mutation",path:r,input:e,context:n?.context,signal:n?.signal})}subscription(r,e,n){return this.$request({type:"subscription",path:r,input:e,context:n?.context}).subscribe({next(i){i.result.type==="started"?n.onStarted?.():i.result.type==="stopped"?n.onStopped?.():n.onData?.(i.result.data)},error(i){n.onError?.(i)},complete(){n.onComplete?.()}})}constructor(r){this.requestId=0;let e=(()=>{let n=r.transformer;return n?"input"in n?r.transformer:{input:n,output:n}:{input:{serialize:o=>o,deserialize:o=>o},output:{serialize:o=>o,deserialize:o=>o}}})();this.runtime={transformer:{serialize:n=>e.input.serialize(n),deserialize:n=>e.output.deserialize(n)},combinedTransformer:e},this.links=r.links.map(n=>n(this.runtime))}};var Er={query:"query",mutate:"mutation",subscribe:"subscription"},Tr=t=>Er[t];function Rr(t){return X(r=>t.hasOwnProperty(r)?t[r]:r==="__untypedClient"?t:Z(({path:e,args:n})=>{let o=[r,...e],i=Tr(o.pop()),s=o.join(".");return t[i](s,...n)}))}function kt(t){let r=new ut(t);return Rr(r)}function Or(t){if(t)return t;if(typeof window<"u"&&window.TextDecoder)return new window.TextDecoder;if(typeof globalThis<"u"&&globalThis.TextDecoder)return new globalThis.TextDecoder;throw new Error("No TextDecoder implementation found")}async function Pr(t){let r=t.parse??JSON.parse,e=n=>{if(t.signal?.aborted||!n||n==="}")return;let o=n.indexOf(":"),i=n.substring(2,o-1),s=n.substring(o+1);t.onSingle(Number(i),r(s))};await Sr(t.readableStream,e,t.textDecoder)}async function Sr(t,r,e){let n="",o=i=>{let u=e.decode(i).split(`
`);if(u.length===1)n+=u[0];else if(u.length>1){r(n+u[0]);for(let a=1;a<u.length-1;a++)r(u[a]);n=u[u.length-1]}};"getReader"in t?await _r(t,o):await Ar(t,o),r(n)}function Ar(t,r){return new Promise(e=>{t.on("data",r),t.on("end",e)})}async function _r(t,r){let e=t.getReader(),n=await e.read();for(;!n.done;)r(n.value),n=await e.read()}var Nr=(t,r)=>{let e=t.AbortController?new t.AbortController:null,n=rt({...t,contentTypeHeader:"application/json",batchModeHeader:"stream",getUrl:j,getBody:tt},e),o=()=>e?.abort(),i=n.then(async s=>{if(!s.body)throw new Error("Received response without body");let u={response:s};return Pr({readableStream:s.body,onSingle:r,parse:a=>({json:JSON.parse(a),meta:u}),signal:e?.signal,textDecoder:t.textDecoder})});return{cancel:o,promise:i}},Cr=t=>{let r=Or(t.opts.textDecoder);return(e,n)=>{let o=e.map(a=>a.path).join(","),i=e.map(a=>a.input),{cancel:s,promise:u}=Nr({...t,textDecoder:r,path:o,inputs:i,headers(){return t.opts.headers?typeof t.opts.headers=="function"?t.opts.headers({opList:e}):t.opts.headers:{}}},(a,c)=>{n(a,c)});return{promise:u.then(()=>[]),cancel:s}}},en=it(Cr),kr=t=>{if("input"in t){if(!(t.input instanceof FormData))throw new Error("Input is not FormData");return t.input}},Ir=t=>{if(t.type!=="mutation")throw new Error("We only handle mutations with formdata");return et({...t,getUrl(){return`${t.url}/${t.path}`},getBody:kr})},nn=V({requester:Ir});var It=function(){function t(){this.keyToValue=new Map,this.valueToKey=new Map}return t.prototype.set=function(r,e){this.keyToValue.set(r,e),this.valueToKey.set(e,r)},t.prototype.getByKey=function(r){return this.keyToValue.get(r)},t.prototype.getByValue=function(r){return this.valueToKey.get(r)},t.prototype.clear=function(){this.keyToValue.clear(),this.valueToKey.clear()},t}();var z=function(){function t(r){this.generateIdentifier=r,this.kv=new It}return t.prototype.register=function(r,e){this.kv.getByValue(r)||(e||(e=this.generateIdentifier(r)),this.kv.set(e,r))},t.prototype.clear=function(){this.kv.clear()},t.prototype.getIdentifier=function(r){return this.kv.getByValue(r)},t.prototype.getValue=function(r){return this.kv.getByKey(r)},t}();var Dr=function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Dt=function(t){Dr(r,t);function r(){var e=t.call(this,function(n){return n.name})||this;return e.classToAllowedProps=new Map,e}return r.prototype.register=function(e,n){typeof n=="object"?(n.allowProps&&this.classToAllowedProps.set(e,n.allowProps),t.prototype.register.call(this,e,n.identifier)):t.prototype.register.call(this,e,n)},r.prototype.getAllowedProps=function(e){return this.classToAllowedProps.get(e)},r}(z);var Lr=function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),o,i=[],s;try{for(;(r===void 0||r-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(u){s={error:u}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return i};function jr(t){if("values"in Object)return Object.values(t);var r=[];for(var e in t)t.hasOwnProperty(e)&&r.push(t[e]);return r}function Lt(t,r){var e=jr(t);if("find"in e)return e.find(r);for(var n=e,o=0;o<n.length;o++){var i=n[o];if(r(i))return i}}function A(t,r){Object.entries(t).forEach(function(e){var n=Lr(e,2),o=n[0],i=n[1];return r(i,o)})}function C(t,r){return t.indexOf(r)!==-1}function at(t,r){for(var e=0;e<t.length;e++){var n=t[e];if(r(n))return n}}var jt=function(){function t(){this.transfomers={}}return t.prototype.register=function(r){this.transfomers[r.name]=r},t.prototype.findApplicable=function(r){return Lt(this.transfomers,function(e){return e.isApplicable(r)})},t.prototype.findByName=function(r){return this.transfomers[r]},t}();var Mr=function(t){return Object.prototype.toString.call(t).slice(8,-1)},ct=function(t){return typeof t>"u"},Br=function(t){return t===null},_=function(t){return typeof t!="object"||t===null||t===Object.prototype?!1:Object.getPrototypeOf(t)===null?!0:Object.getPrototypeOf(t)===Object.prototype},H=function(t){return _(t)&&Object.keys(t).length===0},b=function(t){return Array.isArray(t)},Ur=function(t){return typeof t=="string"},qr=function(t){return typeof t=="number"&&!isNaN(t)},Fr=function(t){return typeof t=="boolean"},Mt=function(t){return t instanceof RegExp},R=function(t){return t instanceof Map},O=function(t){return t instanceof Set},ft=function(t){return Mr(t)==="Symbol"},Bt=function(t){return t instanceof Date&&!isNaN(t.valueOf())},Ut=function(t){return t instanceof Error},lt=function(t){return typeof t=="number"&&isNaN(t)},qt=function(t){return Fr(t)||Br(t)||ct(t)||qr(t)||Ur(t)||ft(t)},Ft=function(t){return typeof t=="bigint"},Vt=function(t){return t===1/0||t===-1/0},zt=function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},Ht=function(t){return t instanceof URL};var pt=function(t){return t.replace(/\./g,"\\.")},$=function(t){return t.map(String).map(pt).join(".")},k=function(t){for(var r=[],e="",n=0;n<t.length;n++){var o=t.charAt(n),i=o==="\\"&&t.charAt(n+1)===".";if(i){e+=".",n++;continue}var s=o===".";if(s){r.push(e),e="";continue}e+=o}var u=e;return r.push(u),r};var dt=function(){return dt=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},dt.apply(this,arguments)},mt=function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),o,i=[],s;try{for(;(r===void 0||r-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(u){s={error:u}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return i},yt=function(t,r){for(var e=0,n=r.length,o=t.length;e<n;e++,o++)t[o]=r[e];return t};function v(t,r,e,n){return{isApplicable:t,annotation:r,transform:e,untransform:n}}var $t=[v(ct,"undefined",function(){return null},function(){}),v(Ft,"bigint",function(t){return t.toString()},function(t){return typeof BigInt<"u"?BigInt(t):(console.error("Please add a BigInt polyfill."),t)}),v(Bt,"Date",function(t){return t.toISOString()},function(t){return new Date(t)}),v(Ut,"Error",function(t,r){var e={name:t.name,message:t.message};return r.allowedErrorProps.forEach(function(n){e[n]=t[n]}),e},function(t,r){var e=new Error(t.message);return e.name=t.name,e.stack=t.stack,r.allowedErrorProps.forEach(function(n){e[n]=t[n]}),e}),v(Mt,"regexp",function(t){return""+t},function(t){var r=t.slice(1,t.lastIndexOf("/")),e=t.slice(t.lastIndexOf("/")+1);return new RegExp(r,e)}),v(O,"set",function(t){return yt([],mt(t.values()))},function(t){return new Set(t)}),v(R,"map",function(t){return yt([],mt(t.entries()))},function(t){return new Map(t)}),v(function(t){return lt(t)||Vt(t)},"number",function(t){return lt(t)?"NaN":t>0?"Infinity":"-Infinity"},Number),v(function(t){return t===0&&1/t===-1/0},"number",function(){return"-0"},Number),v(Ht,"URL",function(t){return t.toString()},function(t){return new URL(t)})];function K(t,r,e,n){return{isApplicable:t,annotation:r,transform:e,untransform:n}}var Kt=K(function(t,r){if(ft(t)){var e=!!r.symbolRegistry.getIdentifier(t);return e}return!1},function(t,r){var e=r.symbolRegistry.getIdentifier(t);return["symbol",e]},function(t){return t.description},function(t,r,e){var n=e.symbolRegistry.getValue(r[1]);if(!n)throw new Error("Trying to deserialize unknown symbol");return n}),Vr=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce(function(t,r){return t[r.name]=r,t},{}),Wt=K(zt,function(t){return["typed-array",t.constructor.name]},function(t){return yt([],mt(t))},function(t,r){var e=Vr[r[1]];if(!e)throw new Error("Trying to deserialize unknown typed array");return new e(t)});function ht(t,r){if(t?.constructor){var e=!!r.classRegistry.getIdentifier(t.constructor);return e}return!1}var Yt=K(ht,function(t,r){var e=r.classRegistry.getIdentifier(t.constructor);return["class",e]},function(t,r){var e=r.classRegistry.getAllowedProps(t.constructor);if(!e)return dt({},t);var n={};return e.forEach(function(o){n[o]=t[o]}),n},function(t,r,e){var n=e.classRegistry.getValue(r[1]);if(!n)throw new Error("Trying to deserialize unknown class - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564");return Object.assign(Object.create(n.prototype),t)}),Jt=K(function(t,r){return!!r.customTransformerRegistry.findApplicable(t)},function(t,r){var e=r.customTransformerRegistry.findApplicable(t);return["custom",e.name]},function(t,r){var e=r.customTransformerRegistry.findApplicable(t);return e.serialize(t)},function(t,r,e){var n=e.customTransformerRegistry.findByName(r[1]);if(!n)throw new Error("Trying to deserialize unknown custom value");return n.deserialize(t)}),zr=[Yt,Kt,Jt,Wt],gt=function(t,r){var e=at(zr,function(o){return o.isApplicable(t,r)});if(e)return{value:e.transform(t,r),type:e.annotation(t,r)};var n=at($t,function(o){return o.isApplicable(t,r)});if(n)return{value:n.transform(t,r),type:n.annotation}},Qt={};$t.forEach(function(t){Qt[t.annotation]=t});var Gt=function(t,r,e){if(b(r))switch(r[0]){case"symbol":return Kt.untransform(t,r,e);case"class":return Yt.untransform(t,r,e);case"custom":return Jt.untransform(t,r,e);case"typed-array":return Wt.untransform(t,r,e);default:throw new Error("Unknown transformation: "+r)}else{var n=Qt[r];if(!n)throw new Error("Unknown transformation: "+r);return n.untransform(t,e)}};var I=function(t,r){for(var e=t.keys();r>0;)e.next(),r--;return e.next().value};function Zt(t){if(C(t,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(C(t,"prototype"))throw new Error("prototype is not allowed as a property");if(C(t,"constructor"))throw new Error("constructor is not allowed as a property")}var Xt=function(t,r){Zt(r);for(var e=0;e<r.length;e++){var n=r[e];if(O(t))t=I(t,+n);else if(R(t)){var o=+n,i=+r[++e]==0?"key":"value",s=I(t,o);switch(i){case"key":t=s;break;case"value":t=t.get(s);break}}else t=t[n]}return t},W=function(t,r,e){if(Zt(r),r.length===0)return e(t);for(var n=t,o=0;o<r.length-1;o++){var i=r[o];if(b(n)){var s=+i;n=n[s]}else if(_(n))n=n[i];else if(O(n)){var u=+i;n=I(n,u)}else if(R(n)){var a=o===r.length-2;if(a)break;var u=+i,c=+r[++o]==0?"key":"value",m=I(n,u);switch(c){case"key":n=m;break;case"value":n=n.get(m);break}}}var f=r[r.length-1];if(b(n)?n[+f]=e(n[+f]):_(n)&&(n[f]=e(n[f])),O(n)){var l=I(n,+f),d=e(l);l!==d&&(n.delete(l),n.add(d))}if(R(n)){var u=+r[r.length-2],p=I(n,u),c=+f==0?"key":"value";switch(c){case"key":{var y=e(p);n.set(y,n.get(p)),y!==p&&n.delete(p);break}case"value":{n.set(p,e(n.get(p)));break}}}return t};var E=function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),o,i=[],s;try{for(;(r===void 0||r-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(u){s={error:u}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return i},P=function(t,r){for(var e=0,n=r.length,o=t.length;e<n;e++,o++)t[o]=r[e];return t};function bt(t,r,e){if(e===void 0&&(e=[]),!!t){if(!b(t)){A(t,function(s,u){return bt(s,r,P(P([],E(e)),E(k(u))))});return}var n=E(t,2),o=n[0],i=n[1];i&&A(i,function(s,u){bt(s,r,P(P([],E(e)),E(k(u))))}),r(o,e)}}function tr(t,r,e){return bt(r,function(n,o){t=W(t,o,function(i){return Gt(i,n,e)})}),t}function rr(t,r){function e(s,u){var a=Xt(t,k(u));s.map(k).forEach(function(c){t=W(t,c,function(){return a})})}if(b(r)){var n=E(r,2),o=n[0],i=n[1];o.forEach(function(s){t=W(t,k(s),function(){return t})}),i&&A(i,e)}else A(r,e);return t}var Hr=function(t,r){return _(t)||b(t)||R(t)||O(t)||ht(t,r)};function $r(t,r,e){var n=e.get(t);n?n.push(r):e.set(t,[r])}function er(t){var r={},e=void 0;return t.forEach(function(n){if(!(n.length<=1)){var o=E(n.map(function(u){return u.map(String)}).sort(function(u,a){return u.length-a.length})),i=o[0],s=o.slice(1);i.length===0?e=s.map($):r[$(i)]=s.map($)}}),e?H(r)?[e]:[e,r]:H(r)?void 0:r}var vt=function(t,r,e,n,o,i,s){var u;o===void 0&&(o=[]),i===void 0&&(i=[]),s===void 0&&(s=new Map);var a=qt(t);if(!a){$r(t,o,r);var c=s.get(t);if(c)return n?{transformedValue:null}:c}if(!Hr(t,e)){var m=gt(t,e),f=m?{transformedValue:m.value,annotations:[m.type]}:{transformedValue:t};return a||s.set(t,f),f}if(C(i,t))return{transformedValue:null};var l=gt(t,e),d=(u=l?.value)!==null&&u!==void 0?u:t,p=b(d)?[]:{},y={};A(d,function(w,g){var D=vt(w,r,e,n,P(P([],E(o)),[g]),P(P([],E(i)),[t]),s);p[g]=D.transformedValue,b(D.annotations)?y[g]=D.annotations:_(D.annotations)&&A(D.annotations,function(ir,sr){y[pt(g)+"."+sr]=ir})});var S=H(y)?{transformedValue:p,annotations:l?[l.type]:void 0}:{transformedValue:p,annotations:l?[l.type,y]:y};return a||s.set(t,S),S};function Y(t){return Object.prototype.toString.call(t).slice(8,-1)}function Kr(t){return Y(t)==="Undefined"}function Wr(t){return Y(t)==="Null"}function nr(t){if(Y(t)!=="Object")return!1;let r=Object.getPrototypeOf(t);return!!r&&r.constructor===Object&&r===Object.prototype}function wt(t){return Y(t)==="Array"}var jn=Yr(Wr,Kr);function Yr(t,r,e,n,o){return i=>t(i)||r(i)||!!e&&e(i)||!!n&&n(i)||!!o&&o(i)}function Jr(t,r,e,n,o){let i={}.propertyIsEnumerable.call(n,r)?"enumerable":"nonenumerable";i==="enumerable"&&(t[r]=e),o&&i==="nonenumerable"&&Object.defineProperty(t,r,{value:e,enumerable:!1,writable:!0,configurable:!0})}function J(t,r={}){if(wt(t))return t.map(o=>J(o,r));if(!nr(t))return t;let e=Object.getOwnPropertyNames(t),n=Object.getOwnPropertySymbols(t);return[...e,...n].reduce((o,i)=>{if(wt(r.props)&&!r.props.includes(i))return o;let s=t[i],u=J(s,r);return Jr(o,i,u,t,r.nonenumerable),o},{})}var N=function(){return N=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},N.apply(this,arguments)},Qr=function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),o,i=[],s;try{for(;(r===void 0||r-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(u){s={error:u}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return i},Gr=function(t,r){for(var e=0,n=r.length,o=t.length;e<n;e++,o++)t[o]=r[e];return t},T=function(){function t(r){var e=r===void 0?{}:r,n=e.dedupe,o=n===void 0?!1:n;this.classRegistry=new Dt,this.symbolRegistry=new z(function(i){var s;return(s=i.description)!==null&&s!==void 0?s:""}),this.customTransformerRegistry=new jt,this.allowedErrorProps=[],this.dedupe=o}return t.prototype.serialize=function(r){var e=new Map,n=vt(r,e,this,this.dedupe),o={json:n.transformedValue};n.annotations&&(o.meta=N(N({},o.meta),{values:n.annotations}));var i=er(e);return i&&(o.meta=N(N({},o.meta),{referentialEqualities:i})),o},t.prototype.deserialize=function(r){var e=r.json,n=r.meta,o=J(e);return n?.values&&(o=tr(o,n.values,this)),n?.referentialEqualities&&(o=rr(o,n.referentialEqualities)),o},t.prototype.stringify=function(r){return JSON.stringify(this.serialize(r))},t.prototype.parse=function(r){return this.deserialize(JSON.parse(r))},t.prototype.registerClass=function(r,e){this.classRegistry.register(r,e)},t.prototype.registerSymbol=function(r,e){this.symbolRegistry.register(r,e)},t.prototype.registerCustom=function(r,e){this.customTransformerRegistry.register(N({name:e},r))},t.prototype.allowErrorProps=function(){for(var r,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];(r=this.allowedErrorProps).push.apply(r,Gr([],Qr(e)))},t.defaultInstance=new t,t.serialize=t.defaultInstance.serialize.bind(t.defaultInstance),t.deserialize=t.defaultInstance.deserialize.bind(t.defaultInstance),t.stringify=t.defaultInstance.stringify.bind(t.defaultInstance),t.parse=t.defaultInstance.parse.bind(t.defaultInstance),t.registerClass=t.defaultInstance.registerClass.bind(t.defaultInstance),t.registerSymbol=t.defaultInstance.registerSymbol.bind(t.defaultInstance),t.registerCustom=t.defaultInstance.registerCustom.bind(t.defaultInstance),t.allowErrorProps=t.defaultInstance.allowErrorProps.bind(t.defaultInstance),t}(),or=T;var $n=T.serialize,Kn=T.deserialize,Wn=T.stringify,Yn=T.parse,Jn=T.registerClass,Qn=T.registerCustom,Gn=T.registerSymbol,Zn=T.allowErrorProps;var Et=kt({transformer:or,links:[st({url:"https://console.algora.io/api/trpc"})]}),Zr=t=>{switch(t){case"active":return"active";case"inactive":return"inactive";default:return}},Xr=t=>{let r=t.getAttribute("data-bounty-org"),e=parseInt(t.getAttribute("data-bounty-limit")||"100",10),n=Zr(t.getAttribute("data-bounty-status"));if(r)return{org:r,limit:e,status:n}};async function xt(t="[data-bounty-org]"){try{let r=document.querySelector(t);if(!r)return;let e=Xr(r);if(!e){console.error("Algora SDK: Invalid configuration");return}r.innerHTML="";for(let o=0;o<e.limit;o++)r.innerHTML+=`
      <div class="bounty-skeleton">
        <div class="bounty-content">
          <div class="bounty-reward"></div>
          <div class="bounty-issue"></div>
          <div class="bounty-title"></div>
        </div>
      </div>
    `;let{items:n}=await Et.bounty.list.query(e);r.innerHTML="",n.forEach(o=>{r.innerHTML+=`
        <a
          href="${o.task.url}"
          target="_blank"
          rel="noopener"
          class="bounty-card"
        >
          <div class="bounty-content">
            <div class="bounty-reward">${o.reward_formatted}</div>
            <div class="bounty-issue">${o.task.repo_name}#${o.task.number}</div>
            <div class="bounty-title">${o.task.title}</div>
          </div>
        </a>
      `})}catch(r){console.error("Algora SDK: Failed to fetch bounties",r)}}typeof window<"u"&&(window.Algora={algora:Et,init:xt},document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>xt()):xt());0&&(module.exports={algora});
/*! Bundled license information:

@trpc/client/dist/httpUtils-ad76b802.mjs:
  (* istanbul ignore if -- @preserve *)

@trpc/client/dist/links/wsLink.mjs:
  (* istanbul ignore next -- @preserve *)
*/
//# sourceMappingURL=index.js.map