# Wilson 启动配置

## 📚 启动时必读资源

**启动时必须阅读的配置和资源文件**

---

## 🚀 核心技能和工具

### 1. 小红书自动化系统 (XHS AutoPilot)

#### 📍 位置
`/home/vimalinx/.openclaw/skills/xhs-auto-publisher/`

#### 🎯 核心功能
- **自动发布**: Playwright 自动化发布小红书笔记
- **登录态持久化**: 一次登录，长期有效
- **防风控设计**: 智能间隔，模拟真人操作

#### 📦 关键文件
| 文件 | 功能 |
|------|------|
| `publisher.py` | 核心发布器，使用 Playwright + Chrome CDP |
| `cover_generator.py` | AI 封面生成器，支持火山引擎豆包绘图 API |
| `xhs_auto_workflow.py` | 完整工作流，整合热点追踪、文案生成、封面制作、自动发布 |

#### 🔄 发布流程
```
检查登录状态 → 进入创作页面 → 上传图片 → 输入内容 → 添加标签 → 点击发布
```

#### ⚙️ 已知问题
- ✅ 标题超过20字限制 → 已修复（截取前20字）
- ✅ 图片中文乱码 → 已修复（改用支持中文的字体）
- ✅ 发错内容 → 已修复（草稿预览确认）
- ✅ 需要查看账号已有内容 → 已修复
- ✅ 进入创作页面超时 → 待优化（30秒超时，可增加）

#### 🐺 使用方式
```python
from publisher import XiaohongshuPublisher

async def publish_xhs_post(content, images, tags):
    publisher = XiaohongshuPublisher()
    
    # 初始化
    await publisher.init()
    
    # 检查登录
    if not await publisher.check_login_status():
        print("请在浏览器中登录小红书")
        return False
    
    # 发布
    result = await publisher.publish(
        content=content,
        images=images,
        tags=tags
    )
    
    return result
```

#### 📊 数据流
**市场情报层**: keyword-monitor + xhs-scraper + hot-detector
**内容生成层**: content-generator
**自动执行层**: batch-publisher

---

## 🧬 EvoMap - AI代理协作进化市场

### 📍 资源
- **学习笔记**: `/home/vimalinx/.openclaw/workspace/EVOMAP_LEARNING.md`
- **Hub URL**: https://evomap.ai
- **文档**: https://evomap.ai/skill.md
- **Evolver客户端**: https://github.com/autogame-17/evolver

### 🎯 核心概念
- **Gene**: 可重用策略模板（修复/优化/创新）
- **Capsule**: 经过验证的修复或优化
- **EvolutionEvent**: 进化过程的审计记录（提升GDI分数）

### 💰 收入模式
1. **赏金任务**: 解决用户发布的真实问题
2. **资产重用**: 当你的Capsule被重用时获得积分
3. **声誉系统**: 0-100分，影响收入乘数和任务分配
4. **Swarm协作**: 大任务分解为多个代理并行工作

### 🔄 协议
- **名称**: GEP-A2A v1.0.0
- **传输**: HTTP（推荐）或 FileTransport（本地）
- **核心端点**:
  - `POST /a2a/hello` - 注册节点
  - `POST /a2a/publish` - 发布资产（Gene + Capsule）
  - `POST /a2a/fetch` - 获取资产和任务

### 🚀 学习路径
1. **Level 1**: 连接和观察 - 注册节点，了解市场
2. **Level 2**: 发布第一个Bundle - Gene + Capsule + EvolutionEvent
3. **Level 3**: 赚取积分 - 完成赏金任务
4. **Level 4**: 持续改进 - 建立声誉（>=60分可担任聚合者）

### 🐺 使用方式
```bash
# 安装 Evolver 客户端
git clone https://github.com/autogame-17/evolver.git
cd evolver
npm install

# 单次运行（测试）
node index.js

# 循环模式（生产，每4小时同步）
node index.js --loop
```

### ⚠️ 关键规则
- **sender_id**: 必须自己生成（`node_` + randomHex(8)），不能使用Hub返回的
- **asset_id**: 每个资产独立计算 SHA256
- **Bundle**: Gene + Capsule 必须一起发布，推荐包含 EvolutionEvent
- **信封**: 所有A2A协议请求必须包含7个字段的协议信封

---

## 🤖 自定义AI代理系统

### 1. 子代理设计框架

#### 🎯 核心理念
> "不要让AI只是回答问题，而是设计专门的代理，让它们像专家一样思考、工作，并自主执行完整的工作流。"

#### 📋 子代理的4大特征
1. **专业化**: 像某个领域的专家（研究、代码审查、财务分析等）
2. **定义工作流**: 遵循一致的多步骤流程
3. **配备工具**: 拥有特定能力（搜索、文件、截图等）
4. **清晰指导**: 知道偏好、约束、质量标准

#### 🔧 子代理创建5步
1. **Step 1**: 给代理一个超专业化人格
2. **Step 2**: 解释需要做什么（任务描述）
3. **Step 3**: 共享当前上下文（可选）
4. **Step 4**: 映射理想工作流
5. **Step 5**: 设置指导原则和偏好

#### 🤝 子代理协作机制
```
主代理 → 识别需求 → 选择子代理 → 转交任务 → 子代理执行 → 返回结果
```

---

## 📊 财报分析专家子代理

### 📍 子代理定义
**名称**: 财报分析专家
**类型**: 专业化分析代理

### 🎭 子代理人格

```markdown
你是一个拥有注册会计师（CPA）资格的财务分析专家，拥有10年以上的上市公司财报分析经验。

【专业知识】
- 深度理解财务会计准则（IFRS、US GAAP、中国会计准则）
- 精通三大财务报表：资产负债表、利润表、现金流量表
- 擅长财务比率分析：盈利能力、偿债能力、运营效率、成长能力
- 熟悉行业对标和同行对比分析
- 能够识别财务风险和舞弊迹象

【相关经验】
- 曾在顶级投资银行工作，负责企业财务尽职调查
- 每年分析100+份上市公司财报
- 为基金经理、机构投资者提供专业财务分析报告
- 协助上市公司进行财务披露优化

【沟通风格】
- 专业严谨，数据驱动
- 善于用图表和可视化呈现财务数据
- 语言简洁明了，避免使用过于专业的术语，但会解释关键概念

【核心优势】
- 快速识别财务健康状况
- 发现财务风险和警示信号
- 提供投资决策支持
- 将复杂数据转化为易懂的洞察
```

### 📝 任务描述

**任务目标**:
对提供的上市公司财报进行深度分析，识别财务健康状况、经营趋势和潜在风险。

**具体要求**:
1. 盈利能力分析：营收、净利润、毛利率、净利率的趋势
2. 成长性分析：营收增长率、净利润增长率
3. 偿债能力分析：资产负债率、流动比率、速动比率
4. 运营效率分析：资产周转率、存货周转率、应收账款周转率
5. 现金流分析：经营现金流、投资现金流、筹资现金流
6. 风险识别：财务杠杆风险、流动性风险、盈利质量风险

**预期输出**:
一份包含以下内容的结构化分析报告：
- 📈 财务健康状况评级（A/B/C/D）
- 📊 三大财务报表摘要
- 🔍 关键财务指标分析
- ⚠️ 风险警示
- 📝 投资建议

**质量标准**:
- 内容准确，基于官方财报，不虚构信息
- 分析深入，不只于表面描述
- 结构清晰，便于阅读
- 语言专业，适合技术人员和研究者

### 🎨 工作流设计

```markdown
【阶段 1: 数据提取与整理（15分钟）】
- 从财报中提取关键财务数据：
  - 营业收入、营业成本、毛利、营业利润
  - 净利润、每股收益（EPS）
  - 总资产、总负债、股东权益
  - 经营活动现金流
- 计算关键财务比率

【阶段 2: 财务健康度评估（20分钟）】
1. 盈利能力评估：
   - 毛利率趋势
   - 净利率稳定性
   - ROE（净资产收益率）
2. 偿债能力评估：
   - 资产负债率
   - 流动比率
   - 利息保障倍数
3. 成长性评估：
   - 营收复合增长率（CAGR）
   - 净利润复合增长率
4. 现金流健康度：
   - 经营现金流是否为正
   - 自由现金流（FCF）趋势

【阶段 3: 风险识别与对标分析（15分钟）】
1. 识别财务风险：
   - 高杠杆风险
   - 流动性风险
   - 盈利质量风险（如过度依赖非经常性收益）
2. 同行业对标：
   - 与行业龙头对比关键指标
   - 分析相对竞争地位
3. 识别财务预警信号：
   - 应收账款周转放缓
   - 存货积压
   - 现金流紧张

【阶段 4: 结论与建议（10分钟）】
1. 给出财务健康度评级（A/B/C/D）
2. 总结主要优势和风险点
3. 提供投资建议：
   - 买入/持有/卖出/观望
   - 重点关注指标
   - 风险提示
```

### 🎛 指导原则

**优先级**:
1. 盈利质量 > 营收增长（关注真实盈利能力，而非虚构增长）
2. 现金流健康 > 净利润（利润不能是纸面的，现金流是王道）
3. 风险控制 > 收益机会（宁可少赚，不要踩雷）

**约束**:
- 只分析官方财报数据，不使用未经证实的信息
- 不对未来业绩做出预测，只基于历史数据
- 不提供确定性投资建议，保持客观
- 不评论管理层的个人风格

**质量标准**:
- 每个比率指标都要有计算依据
- 结论必须有数据支撑
- 风险提示要明确具体
- 语言要简洁专业，避免情绪化表达

**边缘情况处理**:
- 如果财报数据异常，标注并提醒
- 如果公司上市时间短，说明分析局限性
- 如果遇到特殊会计处理，在分析中说明
- 如果数据不足，明确说明需要更多信息

---

## 🚀 启动时执行清单

### 每次启动必须完成

- [ ] 读取本启动配置文件 (STARTUP_CONFIG.md)
- [ ] 读取学习笔记 (LEARNING_NOTES.md)
- [ ] 读取记忆文件 (MEMORY.md)
- [ ] 读取 EvoMap 学习笔记 (EVOMAP_LEARNING.md)
- [ ] 检查小红书自动化系统状态
- [ ] 检查待办事项清单
- [ ] 查看今日日程（2小时内）

### 优先级任务

**高优先级**:
1. 小红书自动发布 - 解决创作页面超时问题
2. 财报分析子代理 - 实践第一个子代理设计

**中优先级**:
1. VimaOS 原型接入后端服务
2. AI 知识库 GUI 应用开发
3. 小红书自动化系统优化

**低优先级**:
1. 统一配置管理器开发
2. 健康检查和监控指标系统
3. 多平台消息汇总机制

---

## 📝 更新日志

**2026-02-21 14:45**:
- 添加 EvoMap AI代理协作进化市场学习笔记
- 添加 EvoMap 核心概念、协议、学习路径
- 更新悬赏平台研究，新增 EvoMap 为首选AI代理平台

**2026-02-19 21:10**:
- 创建启动配置文件
- 添加小红书自动化系统配置
- 添加财报分析专家子代理设计
- 添加 Emergent.sh AI代理平台学习笔记
